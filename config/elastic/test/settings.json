{
    "index": "bottin",
    "body": {
        "settings": {
            "analysis": {
                "number_of_shards": 1,
                "analysis": {
                    "analyzer": {
                        "reverse_analyzer": {
                            "type": "custom",
                            "char_filter": [
                                "strip_non_numeric"
                            ],
                            "tokenizer": "keyword",
                            "filter": [
                                "standard",
                                "keyword_repeat",
                                "reverse"
                            ]
                        },
                        "trigram": {
                            "type": "custom",
                            "tokenizer": "standard",
                            "filter": ["lowercase", "shingle"]
                        },
                        "reverse": {
                            "type": "custom",
                            "tokenizer": "standard",
                            "filter": ["lowercase", "reverse"]
                        }
                    },
                    "char_filter": {
                        "strip_non_numeric": {
                            "type": "pattern_replace",
                            "pattern": "[^0-9]",
                            "replacement": ""
                        }
                    },
                    "filter": {
                        "shingle": {
                            "type": "shingle",
                            "min_shingle_size": 2,
                            "max_shingle_size": 3
                        }
                    }
                }
            },
            "number_of_replicas": 0,            
            "analysis": {
                "analyzer": {
                    "default": {
                        "tokenizer": "standard",
                        "filter": ["my_custom_stop_words_filter"]
                    }
                },
                "filter": {
                    "my_custom_stop_words_filter": {
                        "type": "stop",
                        "ignore_case": true,
                        "stopwords": ["a", "Ã ", "le"]
                    }
                },
                "filter": {
                    "french_elision": {
                        "type": "elision",
                        "articles_case": true,
                        "articles": [
                            "l", "m", "t", "qu", "n", "s",
                            "j", "d", "c", "jusqu", "quoiqu",
                            "lorsqu", "puisqu"
                        ]
                    },
                    "french_synonym": {
                        "type": "synonym",
                        "ignore_case": true,
                        "expand": true,
                        "synonyms": [
                            "salade, laitue",
                            "mayo, mayonnaise",
                            "grille, toaste"
                        ]
                    },
                    "french_stop": {
                        "type": "stop",
                        "stopwords": "_french_" 
                    },
                    "french_keywords": {
                        "type": "keyword_marker",
                        "keywords": [] 
                    },
                    "french_stemmer": {
                        "type": "stemmer",
                        "language": "light_french"
                    }
                },
                "analyzer": {
                    "french": {
                        "tokenizer": "standard",
                        "filter": [
                            "french_elision",
                            "lowercase",
                            "french_stop",
                            "french_keywords",
                            "french_stemmer"
                        ]
                    }
                },
                "normalizer": {
                    "my_normalizer": {
                        "type": "custom"
                    }
                },
                "analyzer": {
                    "french_heavy": {
                        "tokenizer": "icu_tokenizer",
                        "filter": [
                            "french_elision",
                            "icu_folding"
                        ]
                    },
                    "french_light": {
                        "tokenizer": "icu_tokenizer",
                        "filter": [
                            "french_elision",
                            "icu_folding"
                        ]
                    }
                }
            }
        }
    }
}