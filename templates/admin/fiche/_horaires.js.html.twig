<script type="text/javascript">

    document.addEventListener("DOMContentLoaded", function () {

        var midis = document.querySelectorAll('.btnmidi');
        Array.prototype.forEach.call(midis, function (midi, i) {
            midi.addEventListener('click', () => {
                var datajf = midi.getAttribute("data-jf") - 1;
                document.querySelector("#fiche_horaires_" + datajf + "_morning_end").classList.toggle('d-none');
                document.querySelector("#fiche_horaires_" + datajf + "_noon_start").classList.toggle('d-none');
            })
        });

        var closes = document.querySelectorAll('.btnclosed');
        Array.prototype.forEach.call(closes, function (close, i) {
            close.addEventListener('click', () => {
                var datajf = close.getAttribute("data-jf") - 1;
                document.querySelector("#fiche_horaires_" + datajf + "_morning_start").classList.toggle('d-none');
                document.querySelector("#fiche_horaires_" + datajf + "_morning_end").classList.toggle('d-none');
                document.querySelector("#fiche_horaires_" + datajf + "_noon_start").classList.toggle('d-none');
                document.querySelector("#fiche_horaires_" + datajf + "_noon_end").classList.toggle('d-none');
                document.querySelector("#fiche_horaires_" + datajf + "_is_rdv").classList.toggle('d-none');
            })
        });

        var copies = document.querySelectorAll('.btnidem');
        Array.prototype.forEach.call(copies, function (copyBtn, i) {
            copyBtn.addEventListener('click', () => {
                var idJour = copyBtn.getAttribute("data-jf") - 1;
                console.log('hidden jour' + idJour);
                var precedent = idJour - 1;

                var morningStart = document.querySelector("#fiche_horaires_" + precedent + "_morning_start").value;
                document.querySelector("#fiche_horaires_" + idJour + "_morning_start").value = morningStart;

                var morningEnd = document.querySelector("#fiche_horaires_" + precedent + "_morning_end").value;

                document.querySelector("#fiche_horaires_" + idJour + "_morning_end").value = morningEnd;

                var noonStart = document.querySelector("#fiche_horaires_" + precedent + "_noon_start").value;
                document.querySelector("#fiche_horaires_" + idJour + "_noon_start").value = noonStart;

                var noonEnd = document.querySelector("#fiche_horaires_" + precedent + "_noon_end").value;
                document.querySelector("#fiche_horaires_" + idJour + "_noon_end").value = noonEnd;

                var closed = document.querySelector("#fiche_horaires_" + precedent + "_is_closed").checked;
                console.log("close: " + closed);
                document.querySelector("#fiche_horaires_" + idJour + "_is_closed").checked = closed;

                var midi = document.querySelector("#fiche_horaires_" + precedent + "_is_open_at_lunch").checked;
                document.querySelector("#fiche_horaires_" + idJour + "_is_open_at_lunch").checked = midi;

                var rdv = document.querySelector("#fiche_horaires_" + precedent + "_is_rdv").checked;
                document.querySelector("#fiche_horaires_" + idJour + "_is_rdv").checked = rdv;
            })
        });
    });
</script>
