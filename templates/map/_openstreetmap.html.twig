
<div id='openmap' style='width: 90%; height: 600px;' class="border border-primary"></div>

<script type="text/javascript">
    var latitude = '{{ adresse.latitude }}';
    var longitude = '{{ adresse.longitude }}';

    if(latitude ==='' || latitude === '') {
        latitude = 50.226484;
        longitude = 5.342961;
    }

    var center = [latitude, longitude];
    var map = L.map('openmap').setView(center, 16);
    var societe = '{{ adresse.rue }}';

    L.tileLayer('https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', {
        // Il est toujours bien de laisser le lien vers la source des donn√©es
        attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',
        minZoom: 1,
        maxZoom: 20
    }).addTo(map);

    var marker = L.marker(center, {title: societe, draggable: true}).addTo(map);

    marker.on('dragend', function (e) {
        document.getElementById('localisation_latitude').value = marker.getLatLng().lat;
        document.getElementById('localisation_longitude').value = marker.getLatLng().lng;
    });

</script>

